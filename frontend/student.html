<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Painel do Aluno - Sistema RPG</title>
    <!-- Tailwind CSS - CDN para desenvolvimento, será substituído na build -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body class="bg-gray-50 font-sans">
    <!-- Barra de Navegação -->
    <nav class="bg-blue-600 text-white p-4 shadow-md">
      <div class="container mx-auto flex justify-between items-center">
        <h1 class="text-xl font-bold">Painel do Aluno</h1>
        <div class="flex items-center space-x-4">
          <span id="student-name" class="font-medium"></span>
          <button
            id="logout-btn"
            class="bg-red-500 hover:bg-red-600 px-3 py-1 rounded transition"
          >
            <i class="fas fa-sign-out-alt mr-1"></i> Sair
          </button>
        </div>
      </div>
    </nav>

    <div class="container mx-auto p-4">
      <!-- Barra de Progresso -->
      <div class="bg-white p-6 rounded-lg shadow mb-6">
        <div class="flex justify-between items-center mb-2">
          <h2 class="text-lg font-semibold">Seu Progresso</h2>
          <div class="text-right">
            <span class="text-blue-600 font-bold text-lg"
              >Nível <span id="student-level"></span
            ></span>
            <div class="text-sm text-gray-600">
              Total: <span id="total-xp">0</span> XP
            </div>
          </div>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-4">
          <div
            id="xp-bar"
            class="bg-gradient-to-r from-yellow-400 to-yellow-600 h-4 rounded-full transition-all duration-300"
          ></div>
        </div>
        <div class="flex justify-between mt-2 text-sm text-gray-600">
          <span class="font-medium"
            ><span id="current-xp">0</span>/<span id="next-level-xp">100</span>
            XP para o próximo nível</span
          >
          <div class="text-right">
            <div id="student-class" class="font-medium"></div>
            <div id="student-year" class="text-xs text-gray-500"></div>
          </div>
        </div>
        <div class="mt-1 text-xs text-gray-500">
          <span id="progress-percentage">0%</span> concluído neste nível
        </div>
      </div>

      <!-- Abas -->
      <div class="mb-6 border-b border-gray-200">
        <div class="flex space-x-4">
          <button
            id="tab-missions"
            class="tab-button active px-4 py-2 font-medium border-b-2 border-blue-500 text-blue-600"
          >
            Missões
          </button>
          <button
            id="tab-history"
            class="tab-button px-4 py-2 font-medium text-gray-500 hover:text-gray-700"
          >
            Meu Histórico
          </button>
        </div>
      </div>

      <!-- Conteúdo das Abas -->
      <div id="missions-content" class="tab-content">
        <h2 class="text-xl font-bold mb-4">Missões Disponíveis</h2>
        <div id="missions" class="grid gap-4"></div>

        <div class="mt-8 bg-white p-6 rounded-lg shadow">
          <h2 class="text-xl font-bold mb-4">Submeter Código</h2>
          <select
            id="mission-select"
            class="w-full p-3 mb-4 border rounded-lg focus:ring-2 focus:ring-blue-200"
          >
            <option value="">Selecione uma missão</option>
          </select>
          <div class="mb-4">
            <label for="code-upload" class="block text-gray-700 mb-2"
              >Arquivos de código (múltiplos arquivos permitidos):</label
            >
            <input
              id="code-upload"
              type="file"
              multiple
              accept=".js,.html,.css,.py,.java,.cpp,.c,.cs,.php,.rb,.go,.rs,.txt,.json,.xml,.md,.png,.jpg,.jpeg,.gif,.pdf"
              class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-200 focus:border-blue-500"
            />
          </div>
          <button
            id="submit-code-btn"
            class="w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition"
          >
            <i class="fas fa-upload mr-2"></i> Enviar Código
          </button>
        </div>
      </div>

      <div id="history-content" class="tab-content hidden">
        <h2 class="text-xl font-bold mb-4">Meu Histórico</h2>
        <div id="submission-history" class="grid gap-4"></div>
      </div>
    </div>

    <script type="module">
      import "./src/student.js";
    </script>
  </body>
</html>
