<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste - Bot√£o de Tema Funcionando</title>
    
    <!-- Prevenir flash de tema -->
    <script>
        (function() {
            const savedTheme = localStorage.getItem("theme") || "light";
            document.documentElement.setAttribute("data-theme", savedTheme);
        })();
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
    
    <style>
        /* Transi√ß√µes suaves */
        * {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ===== LIGHT MODE (BONITO E MODERNO) ===== */
        html:not([data-theme]),
        html[data-theme="light"] {
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
        }

        html:not([data-theme]) body,
        html[data-theme="light"] body {
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            color: #1a202c;
            min-height: 100vh;
        }

        /* Cards light mode - glassmorphism */
        html:not([data-theme]) .card,
        html[data-theme="light"] .card {
            background: rgba(255, 255, 255, 0.7) !important;
            backdrop-filter: blur(10px) !important;
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15),
                        0 2px 8px 0 rgba(31, 38, 135, 0.1) !important;
        }

        html:not([data-theme]) .card:hover,
        html[data-theme="light"] .card:hover {
            box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.2),
                        0 4px 12px 0 rgba(31, 38, 135, 0.15) !important;
            transform: translateY(-2px) !important;
        }

        /* Header light mode */
        html:not([data-theme]) .header,
        html[data-theme="light"] .header {
            background: rgba(255, 255, 255, 0.8) !important;
            backdrop-filter: blur(20px) saturate(180%) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2) !important;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.05) !important;
        }

        /* Inputs light mode */
        html:not([data-theme]) input,
        html:not([data-theme]) textarea,
        html[data-theme="light"] input,
        html[data-theme="light"] textarea {
            background: rgba(255, 255, 255, 0.9) !important;
            border: 2px solid rgba(99, 102, 241, 0.2) !important;
            color: #1a202c !important;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
        }

        html:not([data-theme]) input:focus,
        html:not([data-theme]) textarea:focus,
        html[data-theme="light"] input:focus,
        html[data-theme="light"] textarea:focus {
            border-color: #6366f1 !important;
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1),
                        0 4px 20px rgba(99, 102, 241, 0.2) !important;
            background: #ffffff !important;
            transform: translateY(-1px) !important;
        }

        /* ===== DARK MODE ===== */
        html[data-theme="dark"] body {
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 50%, #2d3748 100%);
            color: #f7fafc;
        }

        html[data-theme="dark"] .card {
            background: rgba(45, 55, 72, 0.8) !important;
            backdrop-filter: blur(10px) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4) !important;
        }

        html[data-theme="dark"] .header {
            background: rgba(26, 32, 44, 0.9) !important;
            backdrop-filter: blur(20px) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3) !important;
        }

        html[data-theme="dark"] input,
        html[data-theme="dark"] textarea {
            background: rgba(45, 55, 72, 0.9) !important;
            border: 2px solid rgba(255, 255, 255, 0.2) !important;
            color: #f7fafc !important;
        }

        html[data-theme="dark"] input:focus,
        html[data-theme="dark"] textarea:focus {
            border-color: #9f7aea !important;
            box-shadow: 0 0 0 4px rgba(159, 122, 234, 0.2) !important;
        }

        /* ===== BOT√ÉO DE TEMA ===== */
        #theme-toggle {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            border: none;
        }

        html[data-theme="dark"] #theme-toggle {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            box-shadow: 0 4px 15px rgba(240, 147, 251, 0.4);
        }

        #theme-toggle:hover {
            transform: scale(1.1) !important;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6) !important;
        }

        html[data-theme="dark"] #theme-toggle:hover {
            box-shadow: 0 6px 20px rgba(240, 147, 251, 0.6) !important;
        }

        /* Textos responsivos */
        html:not([data-theme]) .text-responsive,
        html[data-theme="light"] .text-responsive {
            color: #2d3748 !important;
        }

        html[data-theme="dark"] .text-responsive {
            color: #f7fafc !important;
        }

        /* Teste visual */
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
    </style>
</head>
<body class="min-h-screen p-8">
    <!-- Bot√£o de tema -->
    <button 
        id="theme-toggle" 
        class="fixed top-6 right-6 z-50 w-14 h-14 text-white rounded-full transition-all duration-300 hover:scale-110 active:scale-95"
        title="Alternar tema"
    >
        <i id="theme-icon" class="fas fa-moon text-xl"></i>
    </button>

    <!-- Header -->
    <header class="header rounded-lg p-6 mb-8">
        <h1 class="text-3xl font-bold text-responsive">üéì Painel do Estudante</h1>
        <p class="text-responsive opacity-80 mt-2">Sistema de gamifica√ß√£o educacional</p>
    </header>

    <!-- Conte√∫do de teste -->
    <div class="test-grid">
        <!-- Card de progresso -->
        <div class="card rounded-xl p-6">
            <h2 class="text-xl font-bold text-responsive mb-4">üìä Progresso</h2>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-responsive mb-2">XP Total</label>
                    <div class="bg-gradient-to-r from-purple-500 to-pink-500 text-white p-4 rounded-lg text-center">
                        <span class="text-2xl font-bold">1,250 XP</span>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-responsive mb-2">N√≠vel Atual</label>
                    <div class="bg-gradient-to-r from-blue-500 to-teal-500 text-white p-4 rounded-lg text-center">
                        <span class="text-2xl font-bold">N√≠vel 5</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card de input -->
        <div class="card rounded-xl p-6">
            <h2 class="text-xl font-bold text-responsive mb-4">‚úèÔ∏è Submiss√£o</h2>
            <div class="space-y-4">
                <input 
                    type="text" 
                    placeholder="Nome da miss√£o" 
                    class="w-full p-3 rounded-lg font-medium"
                />
                <textarea 
                    placeholder="Descri√ß√£o da submiss√£o..." 
                    class="w-full p-3 rounded-lg h-24 resize-none"
                ></textarea>
                <button class="w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white p-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-600 transition-all">
                    Enviar Submiss√£o
                </button>
            </div>
        </div>

        <!-- Card de miss√µes -->
        <div class="card rounded-xl p-6">
            <h2 class="text-xl font-bold text-responsive mb-4">üéØ Miss√µes Dispon√≠veis</h2>
            <div class="space-y-3">
                <div class="bg-gradient-to-r from-orange-400 to-red-500 text-white p-4 rounded-lg">
                    <h3 class="font-bold">Miss√£o JavaScript</h3>
                    <p class="text-sm opacity-90">Criar uma fun√ß√£o recursiva</p>
                    <span class="text-xs">+50 XP</span>
                </div>
                <div class="bg-gradient-to-r from-purple-500 to-indigo-500 text-white p-4 rounded-lg">
                    <h3 class="font-bold">Miss√£o HTML</h3>
                    <p class="text-sm opacity-90">Estruturar uma p√°gina sem√¢ntica</p>
                    <span class="text-xs">+30 XP</span>
                </div>
            </div>
        </div>

        <!-- Card de ranking -->
        <div class="card rounded-xl p-6">
            <h2 class="text-xl font-bold text-responsive mb-4">üèÜ Ranking</h2>
            <div class="space-y-3">
                <div class="flex justify-between items-center p-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-white rounded-lg">
                    <span class="font-bold">1¬∫ Jo√£o Silva</span>
                    <span>2,890 XP</span>
                </div>
                <div class="flex justify-between items-center p-3 bg-gradient-to-r from-gray-400 to-gray-500 text-white rounded-lg">
                    <span class="font-bold">2¬∫ Maria Santos</span>
                    <span>2,650 XP</span>
                </div>
                <div class="flex justify-between items-center p-3 bg-gradient-to-r from-orange-400 to-red-500 text-white rounded-lg">
                    <span class="font-bold">3¬∫ Voc√™</span>
                    <span>1,250 XP</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sistema de tema
        function initTheme() {
            const savedTheme = localStorage.getItem("theme") || "light";
            document.documentElement.setAttribute("data-theme", savedTheme);
            updateThemeIcon(savedTheme);
            console.log("Tema inicializado:", savedTheme);
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute("data-theme") || "light";
            const newTheme = currentTheme === "light" ? "dark" : "light";
            
            document.documentElement.setAttribute("data-theme", newTheme);
            localStorage.setItem("theme", newTheme);
            updateThemeIcon(newTheme);
            
            console.log("Tema alterado para:", newTheme);
        }

        function updateThemeIcon(theme) {
            const icon = document.getElementById("theme-icon");
            if (icon) {
                if (theme === "dark") {
                    icon.className = "fas fa-sun text-xl";
                } else {
                    icon.className = "fas fa-moon text-xl";
                }
            }
        }

        // Inicializar quando DOM estiver pronto
        document.addEventListener("DOMContentLoaded", function() {
            console.log("DOM carregado - configurando tema...");
            
            // Inicializar tema
            initTheme();
            
            // Configurar bot√£o de tema
            const themeToggle = document.getElementById("theme-toggle");
            if (themeToggle) {
                themeToggle.addEventListener("click", toggleTheme);
                console.log("Event listener do bot√£o de tema configurado!");
            } else {
                console.error("Bot√£o de tema n√£o encontrado!");
            }
        });
    </script>
</body>
</html>
